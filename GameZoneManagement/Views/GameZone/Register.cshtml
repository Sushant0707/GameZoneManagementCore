@model GameZoneManagement.Models.TblGameZone

@{
    ViewData["Title"] = "Register";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-yzG8E5vS0H2ddBvMZnLbJdyN5JflnK0a5PR2xz9opDnGvUJxt9r0QO4+m0y5VOrduzlwdd4uGnqL5+6k9Mu8Rw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>


@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        function togglePassword(id, iconId) {
            var input = document.getElementById(id);
            var icon = document.getElementById(iconId);
            if (input.type === "password") {
                input.type = "text";
                icon.classList.remove("fa-eye");
                icon.classList.add("fa-eye-slash");
            } else {
                input.type = "password";
                icon.classList.remove("fa-eye-slash");
                icon.classList.add("fa-eye");
            }
        }

        // Optional: prevent form submit if not valid
        document.addEventListener("DOMContentLoaded", function () {
            const form = document.querySelector("form");
            form.addEventListener("submit", function (e) {
                if (!form.checkValidity()) {
                    e.preventDefault();
                    e.stopPropagation();
                }
                form.classList.add('was-validated');
            });
        });
    </script>
}

<style>
    form input.form-control,
    form select.form-select {
        border-radius: 0.375rem;
        box-shadow: none;
        padding: 0.5rem 0.75rem;
    }

    .password-toggle {
        position: relative;
    }

        .password-toggle i {
            position: absolute;
            top: 50%;
            right: 15px;
            transform: translateY(-50%);
            cursor: pointer;
            color: #6c757d;
        }
</style>

<section class="container py-4">
    <h2 class="text-center mb-4">Register</h2>
    <div class="row justify-content-center">
        <div class="col-md-10">
            <form asp-action="Register" method="post" class="card shadow-sm p-4 bg-light rounded needs-validation" novalidate>
                <div asp-validation-summary="ModelOnly" class="text-danger mb-3"></div>

                <div class="row g-3">
                    <div class="col-md-6">
                        <label asp-for="UserType" class="form-label">User Type</label>
                        <select asp-for="UserType" class="form-select" required>
                            <option value="">-- Select Role --</option>
                            <option value="Admin">Admin</option>
                            <option value="Player">Player</option>
                        </select>
                        <span asp-validation-for="UserType" class="text-danger"></span>
                    </div>

                    <div class="col-md-6">
                        <label asp-for="UserName" class="form-label">Name</label>
                        <input asp-for="UserName" class="form-control" required placeholder="Enter full name" />
                        <span asp-validation-for="UserName" class="text-danger"></span>
                    </div>

                    <div class="col-md-6">
                        <label asp-for="UserEmail" class="form-label">Email</label>
                        <input asp-for="UserEmail" class="form-control" required placeholder="Email address" type="email" />
                        <span asp-validation-for="UserEmail" class="text-danger"></span>
                    </div>

                    <div class="col-md-6">
                        <label asp-for="UserPhone" class="form-label">Phone</label>
                        <input asp-for="UserPhone" class="form-control" required placeholder="10-digit number" pattern="[0-9]{10}" />
                        <span asp-validation-for="UserPhone" class="text-danger"></span>
                    </div>

                    <div class="col-md-6">
                        <label asp-for="UserGender" class="form-label">Gender</label>
                        <select asp-for="UserGender" class="form-select" required>
                            <option value="">-- Select Gender --</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                            <option value="Other">Other</option>
                        </select>
                        <span asp-validation-for="UserGender" class="text-danger"></span>
                    </div>

                    <div class="col-md-3">
                        <label asp-for="UserState" class="form-label">State</label>
                        <input asp-for="UserState" class="form-control" required />
                        <span asp-validation-for="UserState" class="text-danger"></span>
                    </div>

                    <div class="col-md-3">
                        <label asp-for="UserCity" class="form-label">City</label>
                        <input asp-for="UserCity" class="form-control" required />
                        <span asp-validation-for="UserCity" class="text-danger"></span>
                    </div>

                    <div class="col-md-6 password-toggle">
                        <label asp-for="UserPassword" class="form-label">Password</label>
                        <input asp-for="UserPassword" type="password" class="form-control" required id="passwordField" placeholder="Enter password" />
                        <i class="fa fa-eye" id="togglePassword" onclick="togglePassword('passwordField', 'togglePassword')"></i>
                        <span asp-validation-for="UserPassword" class="text-danger"></span>
                    </div>

                    <div class="col-md-6 password-toggle">
                        <label asp-for="UserConfirmPassword" class="form-label">Confirm Password</label>
                        <input asp-for="UserConfirmPassword" type="password" class="form-control" required id="confirmPasswordField" placeholder="Re-enter password" />
                        <i class="fa fa-eye" id="toggleConfirmPassword" onclick="togglePassword('confirmPasswordField', 'toggleConfirmPassword')"></i>
                        <span asp-validation-for="UserConfirmPassword" class="text-danger"></span>
                    </div>
                </div>

                <div class="d-flex justify-content-center mt-4">
                    <button type="submit" class="btn btn-primary px-5">Register</button>
                </div>

                <div class="text-center mt-3">
                    <a asp-action="Login" class="text-decoration-none">Already have an account? Login</a>
                </div>
            </form>
        </div>
    </div>
</section>
